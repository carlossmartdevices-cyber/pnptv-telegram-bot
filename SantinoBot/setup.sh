#!/bin/bash

echo "ğŸ¤– Santino Group Bot Setup"
echo "=========================="
echo ""

# Install dependencies
echo "ğŸ“¦ Installing dependencies..."
npm install

# Copy environment file
if [ ! -f .env ]; then
    echo ""
    echo "ğŸ“ Creating .env file..."
    cp .env.example .env
    echo "âœ… Created .env file"
else
    echo ""
    echo "âš ï¸  .env file already exists, skipping creation"
fi

echo ""
echo "â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”"
echo "ğŸ“‹ SETUP CHECKLIST - Follow these steps:"
echo "â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”"
echo ""
echo "âœ… Step 1: Dependencies installed"
echo ""
echo "âš™ï¸  Step 2: Edit .env file with your configuration:"
echo "   ğŸ“ Edit command: nano .env"
echo "   OR use any text editor to edit .env"
echo ""
echo "ğŸ¤– Step 3: Create bot with @BotFather (if not done):"
echo "   â€¢ Open Telegram and search for @BotFather"
echo "   â€¢ Send /newbot command"
echo "   â€¢ Follow prompts to get your BOT_TOKEN"
echo "   â€¢ Copy the token to .env file"
echo ""
echo "ğŸ”‘ Step 4: Copy Firebase credentials from main bot:"
echo "   â€¢ FIREBASE_PROJECT_ID"
echo "   â€¢ FIREBASE_PRIVATE_KEY"
echo "   â€¢ FIREBASE_CLIENT_EMAIL"
echo ""
echo "ğŸ‘‘ Step 5: Add bot to your Telegram group as ADMIN:"
echo "   Required permissions:"
echo "   âœ“ Delete messages"
echo "   âœ“ Restrict members"
echo "   Optional:"
echo "   â€¢ Pin messages"
echo ""
echo "ğŸ†” Step 6: Get your GROUP_ID:"
echo "   â€¢ Add bot to your group"
echo "   â€¢ Forward any message from group to @userinfobot"
echo "   â€¢ Copy the group ID to .env file"
echo ""
echo "â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”"
echo "ï¿½ READY TO START:"
echo "â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”"
echo ""
echo "   npm run check-config  - Verify your .env configuration"
echo "   npm start            - Start the bot (production)"
echo "   npm run dev          - Start with auto-reload (development)"
echo ""
echo "ğŸ“š For detailed instructions: see QUICKSTART.md"
echo ""